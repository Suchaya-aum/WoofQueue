{% extends 'base.html' %}
<<<<<<< Updated upstream
{% block title %}Manage Customers & Pets{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto bg-white p-6 rounded-lg shadow">
  <h2 class="text-2xl font-bold text-gray-800 mb-4">Manage Customers & Pets</h2>

  <!-- Customers -->
  <h3 class="text-lg font-semibold text-gray-700 mb-2">Customer Profiles</h3>
  <table class="w-full border border-gray-200 rounded mb-6">
    <thead class="bg-gray-100">
      <tr class="text-left text-sm font-medium text-gray-700">
        <th class="p-2 border-b">#</th>
        <th class="p-2 border-b">Name</th>
        <th class="p-2 border-b">Phone</th>
        <th class="p-2 border-b">User</th>
=======
{% block content %}

<div class="max-w-4xl mx-auto bg-white p-6 rounded-lg shadow-md mt-8">
  <h2 class="text-2xl font-bold mb-4 text-gray-800">Manage Customers</h2>

  <!-- ฟอร์มเพิ่มลูกค้าใหม่ -->
  <form method="post" class="mb-8">
    {% csrf_token %}
    <h3 class="text-lg font-semibold mb-2">User Info</h3>
    <div class="grid grid-cols-2 gap-4">
      {{ c_form.username.label_tag }} {{ c_form.username }}
      {{ c_form.email.label_tag }} {{ c_form.email }}
      {{ c_form.password1.label_tag }} {{ c_form.password1 }}
      {{ c_form.password2.label_tag }} {{ c_form.password2 }}
    </div>

    <h3 class="text-lg font-semibold mt-4 mb-2">Profile Info</h3>
    <div class="grid grid-cols-2 gap-4">
      {{ p_form.first_name.label_tag }} {{ p_form.first_name }}
      {{ p_form.last_name.label_tag }} {{ p_form.last_name }}
      {{ p_form.phone.label_tag }} {{ p_form.phone }}
    </div>

    <button type="submit"
      class="mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600">
      ➕ Add Customer
    </button>
  </form>

  <!-- ตารางแสดงลูกค้า -->
  <table class="min-w-full border border-gray-200 text-sm">
    <thead class="bg-gray-100">
      <tr>
        <th class="py-2 px-4 border">Username</th>
        <th class="py-2 px-4 border">Email</th>
        <th class="py-2 px-4 border">First Name</th>
        <th class="py-2 px-4 border">Last Name</th>
        <th class="py-2 px-4 border">Phone</th>
>>>>>>> Stashed changes
      </tr>
    </thead>
    <tbody>
      {% for c in customers %}
<<<<<<< Updated upstream
        <tr class="hover:bg-gray-50 text-sm">
          <td class="p-2 border-b">{{ forloop.counter }}</td>
          <td class="p-2 border-b">{{ c.first_name }} {{ c.last_name }}</td>
          <td class="p-2 border-b">{{ c.phone }}</td>
          <td class="p-2 border-b">{{ c.user.username }}</td>
        </tr>
      {% empty %}
        <tr><td colspan="4" class="text-center p-2 text-gray-500">No customers found.</td></tr>
      {% endfor %}
    </tbody>
  </table>

  <!-- Pets -->
  <h3 class="text-lg font-semibold text-gray-700 mb-2">Pets</h3>
  <table class="w-full border border-gray-200 rounded">
    <thead class="bg-gray-100">
      <tr class="text-left text-sm font-medium text-gray-700">
        <th class="p-2 border-b">#</th>
        <th class="p-2 border-b">Pet Name</th>
        <th class="p-2 border-b">Size</th>
        <th class="p-2 border-b">Hair Type</th>
        <th class="p-2 border-b">Owner</th>
      </tr>
    </thead>
    <tbody>
      {% for p in pets %}
        <tr class="hover:bg-gray-50 text-sm">
          <td class="p-2 border-b">{{ forloop.counter }}</td>
          <td class="p-2 border-b">{{ p.pet_name }}</td>
          <td class="p-2 border-b">{{ p.size }}</td>
          <td class="p-2 border-b">{{ p.hair_type }}</td>
          <td class="p-2 border-b">{{ p.owner.first_name }} {{ p.owner.last_name }}</td>
        </tr>
      {% empty %}
        <tr><td colspan="5" class="text-center p-2 text-gray-500">No pets found.</td></tr>
=======
      <tr class="hover:bg-gray-50">
        <td class="border px-4 py-2">{{ c.user.username }}</td>
        <td class="border px-4 py-2">{{ c.user.email }}</td>
        <td class="border px-4 py-2">{{ c.first_name }}</td>
        <td class="border px-4 py-2">{{ c.last_name }}</td>
        <td class="border px-4 py-2">{{ c.phone|default:"-" }}</td>
      </tr>
>>>>>>> Stashed changes
      {% endfor %}
    </tbody>
  </table>
</div>
<<<<<<< Updated upstream
{% endblock %}
</body>
</html>
=======

{% endblock %}
>>>>>>> Stashed changes
